{% extends "base.html" %}

{% block content %}
<div class="config-container bg-white shadow-2xl rounded-3xl p-8 max-w-4xl mx-auto border border-gray-100">
    <h2 class="text-2xl font-bold text-gray-800 mb-8 flex items-center">
        <i class="fas fa-database text-blue-600 mr-3"></i> Configuration de la Table
    </h2>

    <form method="post" action="{% url 'fait_et_dimension' %}">
        {% csrf_token %}

        <div class="mb-10">
            <label class="block text-sm font-black text-gray-500 uppercase tracking-wider mb-2">
                Nom de la nouvelle table de fait
            </label>
            <div class="relative">
                <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400">
                    <i class="fas fa-tag"></i>
                </span>
                <input type="text" name="table_name" placeholder="ex: Fact_WDI_Economy" 
                       class="w-full pl-10 pr-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:bg-white outline-none transition-all">
            </div>
            <p class="text-xs text-gray-400 mt-2 italic">Évitez les espaces et les caractères spéciaux.</p>
        </div>

        <div class="mb-10">
            <label class="block text-sm font-black text-gray-500 uppercase tracking-wider mb-4">
                Sélectionner les colonnes de dimension
            </label>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                {% for col in columns %}
                <label class="checkbox-card group">
                    <input type="checkbox" name="selected_columns" value="{{ col }}" class="hidden-checkbox">
                    <div class="checkbox-content">
                        <i class="fas fa-plus group-aria-checked:rotate-45 transition-transform mr-2 text-xs"></i>
                        <span class="truncate">{{ col }}</span>
                    </div>
                </label>
                {% endfor %}
            </div>
        </div>

        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 rounded-2xl shadow-lg hover:shadow-blue-200 transition-all flex justify-center items-center gap-3">
            <i class="fas fa-cogs"></i>
            GÉNÉRER LE SCHÉMA SQL
        </button>
    </form>
</div>
{% endblock content %}